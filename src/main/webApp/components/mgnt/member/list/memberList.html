<link href="css/main2.css" rel="stylesheet">
<section>
	<div class="container" ng-cloak>
		<h3 style="text-align: center;">Member </h3>
		<div class="row" >
			<!--
			<div class="col-sm-2">
				<input type="text"  ng-model="ctrl.theMember.email" disabled="disabled" placeholder="email"
					   style="border: 1px solid rgb(118 118 118);border-radius: 2px;height: 30px;"/>
			</div>
			<div class="col-sm-2">
				<input type="text"  ng-model="ctrl.theMember.fullName" placeholder="name" style="width: 100%;"/>
			</div>
			<div class="col-sm-2">
				<select  ng-model="ctrl.theMember.status" 
					 ng-options="opt.value as opt.name for opt in ctrl.statusList"
					 style="width: 100%;height: 30px;
					 		border: 1px solid rgb(118 118 118);
					 		border-radius: 2px;
							background: #FFFFFF;">
		    	</select> 
			</div>
			<div class="col-sm-1">
				<input type="checkbox" id="admin" name="admin" value="admin" ng-model="ctrl.adminRole">
				<label > admin</label>
			</div>

			<div class="col-sm-2">
				<a ng-click="ctrl.upsert(ctrl.theMember)" href="" class="btn btn-default check_out" style="margin: 0px 0px 0px 0px;">save</a>
				
				<a ng-click="ctrl.clear()" href="" class="btn btn-default check_out" style="margin: 0px 0px 0px 0px;">clear</a>
			</div>
			<div class="col-sm-2">
				<div class="alert alert-success" role="alert" ng-show="ctrl.responseStr" 
					 style="margin: 0px 0px 0px 0px;width: 120px;height: 0px;padding: 5px 0px 25px 10px;">
					  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
					  <span class="sr-only"></span>
						 thành công
				</div>
				<div class="alert alert-danger" role="alert" ng-show="ctrl.responseStrFail" 
					 style="margin: 0px 0px 0px 0px;width: 120px;height: 0px;padding: 5px 0px 25px 10px;">
					  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
					  <span class="sr-only"></span>
						 fail
				</div>
			</div>
			-->
		</div>
		<div class="row" style="margin-bottom: 10px;margin-top: 35px;">
			<div class="col-sm-7"></div>
		</div>
		
        <div class="table-responsive">
            <table ng-table="ctrl.tableParams" class="table table-bordered table-hover table-striped" show-filter="true">
			    <tr ng-repeat="mem in $data">
			        <td title="'id'" filter="{ id: 'number'}" sortable="'id'" style="width:60px;text-align: center;">
			        	{{mem.id - 1}}
			        </td>
			        <td title="'email'" filter="{ email : 'text'}" sortable="'email'" style="width:90px;">
			        	<a href="" ng-click="ctrl.updateMember(mem)">{{mem.email}}</a>
			        </td>
			        <td title="'name'" filter="{ fullName: 'text'}" sortable="'fullName'" style="width:100px;">
			        	{{mem.fullName}}
			        </td>
			        <td title="'phone'" filter="{ phone : 'text'}" sortable="'phone'" style="text-align: right;width:100px;">
						{{mem.phone}}</td>
			        <td title="'address'" filter="{ address : 'text'}" sortable="'address'" >
						{{mem.address}}</td>
					<td title="'roles'"   style="text-align: right;width:100px;">
						<span ng-repeat="role in mem.memberRoles"> {{role.role}},</span> </td>
					<td title="'action'" style="width:100px;" ng-if="ctrl.isSuperAdmin">
						<select  ng-model="mem.roleToBe"  ng-change="ctrl.updateRole(mem)"
								 ng-options="opt.value as opt.name for opt in ctrl.roleList"
								 style="background: #F0F0E9;" ng-disabled="ctrl.isUpdating">
						</select>
					</td>
			        <td title="'status'" filter="{ status : 'number'}"  style="width:60px;">
						<p ng-style="ctrl.setStyle(mem.status)" ng-if="!ctrl.isSuperAdmin">
							{{mem.status == 0 ? 'inactive' : 'active' }}</p>

						<select  ng-model="mem.status"  ng-change="ctrl.updateStatus(mem)"
								 ng-options="opt.value as opt.name for opt in ctrl.statusList"
								 style="background: #F0F0E9;" ng-style="ctrl.setStyle(mem.status)"
								 ng-if="ctrl.isSuperAdmin" ng-disabled="ctrl.isUpdating">
						</select>

					</td>
			    </tr>
			</table>
        </div>
	</div>
</section>